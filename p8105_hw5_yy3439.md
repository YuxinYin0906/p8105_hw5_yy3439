p8105_hw5_yy3439
================
2023-11-14

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(ggplot2)
library(purrr)
library(broom)
```

## Problem 1

``` r
homicide_data = read_csv("./data/homicide-data.csv") #import data
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

### Description of the Raw Data

The raw data has 12 columns and 52179 rows. The variables(columns) are
comprised of two types: characters and numerical.

### Total Number of homicides and the number of unsolved homicides

``` r
homicide_data_tidy = homicide_data|>
  mutate(city_state = str_c(city, state, sep = ", ", collapse = NULL))|> #create the city_state variable
  mutate(result = case_when(
    disposition == "Closed without arrest" ~ "unsolved", #create the result variable which indicates whether the case is solved or unsolved
    disposition == "Closed by arrest" ~ "solved",
    disposition == "Open/No arrest" ~ "unsolved"
  ))
```

``` r
homicides_sum = homicide_data_tidy|>
  group_by(city_state)|>
  summarise(total_homicides = n(),
            unsolved_homicides = sum(result == "unsolved"))
homicides_sum
```

    ## # A tibble: 51 × 3
    ##    city_state      total_homicides unsolved_homicides
    ##    <chr>                     <int>              <int>
    ##  1 Albuquerque, NM             378                146
    ##  2 Atlanta, GA                 973                373
    ##  3 Baltimore, MD              2827               1825
    ##  4 Baton Rouge, LA             424                196
    ##  5 Birmingham, AL              800                347
    ##  6 Boston, MA                  614                310
    ##  7 Buffalo, NY                 521                319
    ##  8 Charlotte, NC               687                206
    ##  9 Chicago, IL                5535               4073
    ## 10 Cincinnati, OH              694                309
    ## # ℹ 41 more rows

As a result, the data frame contains each city in the U.S. and their
corresponding totoal number of homicides as well as total number of
unsolved homicides.

### Conduct `prop.test` on Baltimore

``` r
Baltimore_hom_total = homicides_sum|>
  filter(city_state == "Baltimore, MD")|>
  pull(total_homicides)
Baltimore_hom_unsolved = homicides_sum|>
  filter(city_state == "Baltimore, MD")|>
  pull(unsolved_homicides)

baltimore_test = prop.test(Baltimore_hom_unsolved, Baltimore_hom_total)
baltimore_test_tidy = broom::tidy(baltimore_test)
```

As a result, the estimated proportion of unsolved homicides in Baltimore
is 0.6455607. In addition, the confidence interval is \[0.6275625,
0.6631599\]. Additionally, the estimated proportion falls between the
confidence interval.
